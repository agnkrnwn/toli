<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Quran Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
    <div class="container mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-center">Al-Quran Digital</h1>
        <div id="surahList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"></div>
        <div id="surahDetail" class="bg-white p-6 rounded-lg shadow-md hidden"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const surahList = document.getElementById('surahList');
    const surahDetail = document.getElementById('surahDetail');

    fetchSurahList();

    async function fetchSurahList() {
        try {
            const response = await fetch('https://equran.id/api/v2/surat');
            const data = await response.json();

            if (data.code === 200) {
                displaySurahList(data.data);
            } else {
                surahList.innerHTML = '<p class="text-red-500">Gagal memuat daftar surah.</p>';
            }
        } catch (error) {
            console.error('Error:', error);
            surahList.innerHTML = '<p class="text-red-500">Terjadi kesalahan. Silakan coba lagi nanti.</p>';
        }
    }

    function displaySurahList(surahs) {
        surahList.innerHTML = surahs.map(surah => `
            <div class="bg-white p-4 rounded-lg shadow-md cursor-pointer hover:bg-gray-50" onclick="fetchSurahDetail(${surah.nomor})">
                <h2 class="text-xl font-semibold">${surah.nomor}. ${surah.namaLatin}</h2>
                <p class="text-gray-600">${surah.arti} (${surah.jumlahAyat} ayat)</p>
            </div>
        `).join('');
    }

    window.fetchSurahDetail = async function(nomorSurah) {
        try {
            const response = await fetch(`https://equran.id/api/v2/surat/${nomorSurah}`);
            const data = await response.json();

            if (data.code === 200) {
                displaySurahDetail(data.data);
            } else {
                surahDetail.innerHTML = '<p class="text-red-500">Gagal memuat detail surah.</p>';
            }
        } catch (error) {
            console.error('Error:', error);
            surahDetail.innerHTML = '<p class="text-red-500">Terjadi kesalahan. Silakan coba lagi nanti.</p>';
        }
    }

    function displaySurahDetail(surah) {
        surahDetail.innerHTML = `
            <h2 class="text-2xl font-bold mb-4">${surah.nomor}. ${surah.namaLatin} (${surah.nama})</h2>
            <p class="mb-2"><strong>Arti:</strong> ${surah.arti}</p>
            <p class="mb-2"><strong>Jumlah Ayat:</strong> ${surah.jumlahAyat}</p>
            <p class="mb-2"><strong>Tempat Turun:</strong> ${surah.tempatTurun}</p>
            <p class="mb-4"><strong>Deskripsi:</strong> ${surah.deskripsi}</p>
            <h3 class="text-xl font-semibold mb-2">Ayat-ayat:</h3>
            <div class="space-y-4">
                ${surah.ayat.map(ayat => `
                    <div>
                        <p class="text-right text-xl mb-2">${ayat.teksArab}</p>
                        <p class="mb-1"><strong>${ayat.nomorAyat}.</strong> ${ayat.teksLatin}</p>
                        <p class="text-gray-600">${ayat.teksIndonesia}</p>
                    </div>
                `).join('')}
            </div>
        `;
        surahDetail.classList.remove('hidden');
        surahDetail.scrollIntoView({ behavior: 'smooth' });
    }
});
    </script>
</body>
</html>